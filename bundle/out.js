!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=function(e,t){fetch("https://graphhopper.com/api/1/geocode?key=".concat("422949bb-9a01-4eac-aba7-4db274006703","&q=").concat(e)).then((function(e){if(e.ok)return e.json();throw new Error("error")})).then((function(e){var r=e.hits[0].point.lat,n=e.hits[0].point.lng,o=e.hits[0].name;O(r,n,o,t)})).catch((function(e){console.log("error GeoLocating",e),m.textContent="Nieprawidłowa miejscowość",document.body.classList.remove("loading")}))};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=document.querySelectorAll("#app .module__weather .find-city"),u=function(e,t){var r=s.cloneNode(!0);r.querySelector("input").setAttribute("id","search_"+t),e.querySelector(".city").style.display="none",e.querySelector(".weather__info").prepend(r),c=document.querySelectorAll("#app .module__weather .find-city"),function(e,t){o(c).forEach((function(r){r.addEventListener("submit",(function(r){r.preventDefault();var o=e.querySelector(".find-city input").value;document.body.classList.add("loading"),e.querySelector(".find-city").remove(),e.querySelector(".city").style.display="block",n(o,t)}))}))}(e,t)};function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=document.querySelector(".module__form"),l=document.querySelector("#app .module__form .btn--close"),d=document.getElementById("add-city"),y=document.getElementById("search"),s=document.querySelector(".find-city"),m=document.querySelector(".search-error");document.querySelector(".weather__icon img").style.pointerEvents="none",d.addEventListener("click",(function(){i.removeAttribute("hidden")})),l.addEventListener("click",(function(){i.setAttribute("hidden",!0)})),s.addEventListener("submit",(function(e){e.preventDefault();var t=y.value;document.body.classList.add("loading"),n(t),y.value="",m.textContent=""}));var f=document.getElementById("app"),p=document.querySelectorAll("#app .module__weather .btn--close"),h=document.querySelectorAll("#app .module__weather .city .btn"),_=0,b=function(e){var t=e.cloneNode(!0);return t.querySelector("button").parentElement.classList.add("md_"+_),t.querySelector("button").parentElement.removeAttribute("hidden"),t.querySelector("button").dataset.module="md_"+_,t.querySelector("button i").style.pointerEvents="none",t.querySelector(".city .btn").dataset.module="md_"+_,t.querySelector(".city .btn i").style.pointerEvents="none",f.appendChild(t),p=document.querySelectorAll("#app .module__weather .btn--close"),h=document.querySelectorAll("#app .module__weather .city .btn"),a(p).forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.dataset.module,r=document.querySelector("#app ."+t);document.body.contains(r)&&r.remove()}))})),a(h).forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.dataset.module,r=document.querySelector("#app ."+t);document.getElementById("search_"+t)||u(r,t)}))})),_++,t},v=document.querySelector(".module__weather"),S=["Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Niedziela"],g=function(e,t,r,n,o,c,u,a,i,l){r.setAttribute("src","images/icons/".concat(e.currently.icon,".svg")),n.textContent=t,o.textContent=e.currently.temperature.toFixed(1),c.textContent="".concat(e.currently.pressure.toFixed()," hPa"),u.textContent="".concat(100*e.currently.humidity,"%"),a.textContent="".concat(e.currently.windSpeed.toFixed(1)," m/s");var d=(new Date).getDay(),y=0;i.forEach((function(t){t.querySelector(".day").textContent=S[d],d===S.length-1?d=0:d++,t.querySelector("img").setAttribute("src","images/icons/".concat(e.daily.data[y].icon,".svg"));var r=(e.daily.data[y].temperatureMax+e.daily.data[y].temperatureMin)/2;t.querySelector(".temperature__value").textContent=r.toFixed(1),y++})),document.body.classList.remove("loading"),l||b(v)};function q(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=document.querySelector(".weather__icon img"),A=document.querySelector(".city__name"),E=document.querySelector(".temperature__value"),j=document.querySelector(".pressure__value"),x=document.querySelector(".humidity__value"),k=document.querySelector(".wind-speed__value"),L=q(document.querySelectorAll(".weather__forecast li")),O=function(e,t,r,n){fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat("856bb7a7aa1e7d6dd0d61976012b7fe2","/").concat(e,",").concat(t,"?units=si&lang=pl")).then((function(e){if(e.ok)return e.json();throw new Error("error")})).then((function(e){if(n){var t=document.querySelector("."+n+" .weather__icon img"),o=document.querySelector("."+n+" .city__name"),c=document.querySelector("."+n+" .temperature__value"),u=document.querySelector("."+n+" .pressure__value"),a=document.querySelector("."+n+" .humidity__value"),i=document.querySelector("."+n+" .wind-speed__value"),l=q(document.querySelectorAll("."+n+" .weather__forecast li"));g(e,r,t,o,c,u,a,i,l,n)}else g(e,r,w,A,E,j,x,k,L)})).catch((function(e){console.log("error DarkSky",e)}))},C=function(){fetch("https://ipapi.co/json").then((function(e){if(e.ok)return e.json();throw new Error("error")})).then((function(e){O(e.latitude,e.longitude,e.city)})).catch((function(e){console.log("error IPLocating",e)}))};document.body.classList.add("loading"),C()}]);